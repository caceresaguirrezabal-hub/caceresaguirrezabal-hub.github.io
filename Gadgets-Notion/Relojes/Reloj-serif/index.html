<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Reloj Digital Notion</title>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Lyon-Text:ital,wght@0,400;0,500;0,700;1,400;1,700&display=swap");

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
        font-family: Lyon-Text, Georgia, YuMincho, "Yu Mincho",
          "Hiragino Mincho ProN", "Hiragino Mincho Pro", "Songti TC",
          "Songti SC", SimSun, "Nanum Myeongjo", NanumMyeongjo, Batang, serif;
        overflow: hidden;
        transition: background-color 0.3s ease;
      }

      .theme-dark {
        background-color: #191919;
      }

      .theme-light {
        background-color: #ffffff;
      }

      .clock-container {
        text-align: center;
        padding: 4vw;
        border-radius: 4vw;
        box-shadow: 0 2vw 12vw rgba(0, 0, 0, 0.2);
        backdrop-filter: blur(2vw);
        border: 0.3vw solid rgba(0, 0, 0, 0.15);
        max-width: 95vw;
        width: 95vw;
        height: 95vh;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        transition: background-color 0.3s ease, border-color 0.3s ease;
        cursor: pointer;
      }

      .theme-dark .clock-container {
        background: rgba(25, 25, 25, 0.85);
        border-color: rgba(255, 255, 255, 0.2);
        color: #ffffff;
      }

      .theme-light .clock-container {
        background: rgba(255, 255, 255, 0.85);
        border-color: rgba(0, 0, 0, 0.2);
        color: #2c2c2b;
      }

      .time-display {
        font-size: clamp(14vw, 22vh, 20vw);
        font-weight: 700;
        letter-spacing: 0.2vw;
        font-variant-numeric: tabular-nums;
        line-height: 1.05;
        margin-bottom: 4vw;
        text-shadow: 0 0.5vw 1vw rgba(0, 0, 0, 0.2);
      }

      .theme-light .time-display {
        text-shadow: 0 0.5vw 1vw rgba(0, 0, 0, 0.1);
      }

      .seconds {
        opacity: 0.85;
        font-weight: 400;
      }

      .theme-light .seconds {
        opacity: 0.75;
      }

      .timezone-selector {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 2vw;
        margin-top: 1vw;
        flex-wrap: nowrap;
        width: 100%;
        max-width: 80vw;
      }

      .arrow-btn {
        border: none;
        width: 7vw;
        height: 7vw;
        border-radius: 1.5vw;
        font-size: 4.5vw;
        font-weight: bold;
        cursor: pointer;
        display: flex;
        justify-content: center;
        align-items: center;
        transition: all 0.2s ease;
        flex: 0 0 auto;
        box-shadow: 0 0.3vw 1vw rgba(0, 0, 0, 0.1);
      }

      .theme-dark .arrow-btn {
        background: rgba(255, 255, 255, 0.15);
        color: #ffffff;
      }

      .theme-light .arrow-btn {
        background: rgba(0, 0, 0, 0.1);
        color: #2c2c2b;
      }

      .theme-dark .arrow-btn:hover {
        background: rgba(255, 255, 255, 0.25);
        transform: scale(1.05);
      }

      .theme-light .arrow-btn:hover {
        background: rgba(0, 0, 0, 0.2);
        transform: scale(1.05);
      }

      .timezone-display {
        font-size: clamp(3.5vw, 5vh, 4.5vw);
        font-weight: 600;
        min-width: 25vw;
        padding: 1.8vw 3vw;
        border-radius: 2vw;
        letter-spacing: 0.1vw;
        transition: background-color 0.2s ease;
        flex: 1 1 auto;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        box-shadow: 0 0.3vw 1vw rgba(0, 0, 0, 0.08);
      }

      .theme-dark .timezone-display {
        background: rgba(0, 0, 0, 0.25);
      }

      .theme-light .timezone-display {
        background: rgba(0, 0, 0, 0.08);
      }

      @media (max-width: 480px) {
        .clock-container {
          padding: 5vw;
          border-radius: 5vw;
        }

        .timezone-selector {
          gap: 1.5vw;
        }

        .timezone-display {
          min-width: 22vw;
          font-size: 4vw;
          padding: 1.5vw 2.5vw;
          border-radius: 2vw;
        }

        .arrow-btn {
          width: 8vw;
          height: 8vw;
          font-size: 5vw;
          border-radius: 1.8vw;
        }

        .time-display {
          margin-bottom: 5vw;
        }
      }
    </style>
  </head>
  <body class="theme-dark">
    <div class="clock-container" id="clock-container">
      <div class="time-display" id="clock">00:00:00</div>
      <div class="timezone-selector">
        <button class="arrow-btn" id="prev-tz">←</button>
        <div class="timezone-display" id="timezone-name">Montevideo (UYT)</div>
        <button class="arrow-btn" id="next-tz">→</button>
      </div>
    </div>

    <script>
      // Lista de zonas horarias comunes con nombres legibles (incluyendo Uruguay)
      const timezones = [
        { id: "UTC", name: "UTC" },
        { id: "America/Montevideo", name: "Montevideo (UYT)" },
        { id: "America/New_York", name: "Nueva York (EST/EDT)" },
        { id: "America/Chicago", name: "Chicago (CST/CDT)" },
        { id: "America/Denver", name: "Denver (MST/MDT)" },
        { id: "America/Los_Angeles", name: "Los Ángeles (PST/PDT)" },
        { id: "America/Mexico_City", name: "Ciudad de México" },
        { id: "America/Buenos_Aires", name: "Buenos Aires (ART)" },
        { id: "Europe/London", name: "Londres (GMT/BST)" },
        { id: "Europe/Paris", name: "París (CET/CEST)" },
        { id: "Europe/Berlin", name: "Berlín (CET/CEST)" },
        { id: "Europe/Madrid", name: "Madrid (CET/CEST)" },
        { id: "Europe/Rome", name: "Roma (CET/CEST)" },
        { id: "Europe/Moscow", name: "Moscú (MSK)" },
        { id: "Asia/Tokyo", name: "Tokio (JST)" },
        { id: "Asia/Shanghai", name: "Shanghái (CST)" },
        { id: "Asia/Seoul", name: "Seúl (KST)" },
        { id: "Australia/Sydney", name: "Sídney (AEST/AEDT)" },
        { id: "Pacific/Auckland", name: "Auckland (NZST/NZDT)" },
      ];

      let currentIndex = 1; // Comenzar con Uruguay
      let isDarkTheme = true;
      const body = document.body;
      const clockContainer = document.getElementById("clock-container");
      const timezoneNameEl = document.getElementById("timezone-name");
      const clockEl = document.getElementById("clock");
      const prevBtn = document.getElementById("prev-tz");
      const nextBtn = document.getElementById("next-tz");

      // Función para formatear la hora con segundos
      function formatTime(date) {
        const hours = String(date.getHours()).padStart(2, "0");
        const minutes = String(date.getMinutes()).padStart(2, "0");
        const seconds = String(date.getSeconds()).padStart(2, "0");
        return `${hours}:${minutes}<span class="seconds">:${seconds}</span>`;
      }

      // Función para actualizar el reloj
      function updateClock() {
        const timezone = timezones[currentIndex].id;
        try {
          const now = new Date();
          const formatter = new Intl.DateTimeFormat("es-ES", {
            hour12: false,
            hour: "2-digit",
            minute: "2-digit",
            second: "2-digit",
            timeZone: timezone,
          });
          const parts = formatter.formatToParts(now);

          let hours = "00";
          let minutes = "00";
          let seconds = "00";

          parts.forEach((part) => {
            if (part.type === "hour") hours = part.value;
            if (part.type === "minute") minutes = part.value;
            if (part.type === "second") seconds = part.value;
          });

          clockEl.innerHTML = `${hours}:${minutes}<span class="seconds">:${seconds}</span>`;
        } catch (e) {
          const now = new Date();
          clockEl.innerHTML = formatTime(now);
        }
      }

      // Cambiar zona horaria
      function changeTimezone(direction) {
        if (direction === "next") {
          currentIndex = (currentIndex + 1) % timezones.length;
        } else {
          currentIndex =
            (currentIndex - 1 + timezones.length) % timezones.length;
        }

        timezoneNameEl.textContent = timezones[currentIndex].name;
        updateClock();
      }

      // Cambiar tema solo al hacer clic en el contenedor del reloj (no en los botones)
      clockContainer.addEventListener("click", (e) => {
        // Evitar el cambio de tema si se hace clic en los botones
        if (e.target === prevBtn || e.target === nextBtn) {
          return;
        }

        isDarkTheme = !isDarkTheme;
        if (isDarkTheme) {
          body.className = "theme-dark";
        } else {
          body.className = "theme-light";
        }
      });

      // Event listeners para los botones de zona horaria
      prevBtn.addEventListener("click", (e) => {
        e.stopPropagation(); // Prevenir que el clic se propague al contenedor
        changeTimezone("prev");
      });

      nextBtn.addEventListener("click", (e) => {
        e.stopPropagation(); // Prevenir que el clic se propague al contenedor
        changeTimezone("next");
      });

      // Inicializar
      timezoneNameEl.textContent = timezones[currentIndex].name;
      updateClock();

      // Actualizar cada segundo
      setInterval(updateClock, 1000);
    </script>
  </body>
</html>
